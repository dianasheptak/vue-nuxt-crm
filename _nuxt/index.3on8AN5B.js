import{c as he}from"./index.LAakwbBF.js";import{f as A,o as x,c as M,r as ee,n as Q,i as $,_ as Je,t as z,k as De,a as K,v as Xt,b as L,w as H,d as pe,x as k,j as ke,y as en,l as Se,F as Ee,q as rt,z as tn,A as nn,B as E,C as Xe,D as ct,E as qe,G as at,H as rn,I as an,m as me,J as on,K as ln,L as q,M as re,N as oe,O as ae,P as te,Q as ie,h as Pe,T as sn,R as un,S as dn,U as cn,V as Ue,u as fn,W as pn}from"./entry.zbAlqUpU.js";import{c as mn,v as xt,_ as Ct}from"./v4.JgP0-LJ_.js";import{c as vn,g as hn,D as Ne,a as He,b as gn,d as Qe}from"./appwrite.YNvEA79_.js";import kt from"./Icon.glDV7AYP.js";import{a as ft,u as yn}from"./vee-validate.esm.jl812fMJ.js";import{u as Dt}from"./useQuery.tuXHM0nx.js";import"./index.P7jyS_57.js";function bn(e,t){const n={...e};for(const r of t)delete n[r];return n}function wn(e,t,n){typeof t=="string"&&(t=t.split(".").map(a=>{const o=Number(a);return isNaN(o)?a:o}));let r=e;for(const a of t){if(r==null)return n;r=r[a]}return r!==void 0?r:n}const $n=A({__name:"Card",props:{class:{type:String,default:""}},setup(e){const t=e;return(n,r)=>(x(),M("div",{class:Q($(he)("animation rounded-xl hover:border-[#a252c83d] transition-colors bg-card border bg-card text-card-foreground shadow",t.class))},[ee(n.$slots,"default",{},void 0,!0)],2))}}),_n=Je($n,[["__scopeId","data-v-52b6726e"]]),Sn=A({__name:"CardHeader",props:{class:{type:String,default:""}},setup(e){const t=e;return(n,r)=>(x(),M("div",{class:Q($(he)("flex flex-col space-y-1.5 px-6 pt-5 pb-3",t.class))},[ee(n.$slots,"default")],2))}}),En=A({__name:"CardTitle",props:{class:{type:String,default:""}},setup(e){const t=e;return(n,r)=>(x(),M("h3",{class:Q($(he)("font-semibold leading-none tracking-tight",t.class))},[ee(n.$slots,"default")],2))}}),xn=A({__name:"CardDescription",props:{class:{type:String,default:""}},setup(e){const t=e;return(n,r)=>(x(),M("p",{class:Q($(he)("!text-[16px] text-muted-foreground ",t.class))},[ee(n.$slots,"default")],2))}}),Cn=A({__name:"CardContent",props:{class:{type:String,default:""}},setup(e){const t=e;return(n,r)=>(x(),M("div",{class:Q($(he)("px-6 py-2 pt-0",t.class))},[ee(n.$slots,"default")],2))}}),kn=A({__name:"CardFooter",props:{class:{type:String,default:""}},setup(e){const t=e;return(n,r)=>(x(),M("div",{class:Q($(he)("p-6 pt-0 !text-[14px] opacity-70 italic",t.class))},[ee(n.$slots,"default")],2))}}),Dn={class:"mb-3"},On={key:0,class:"opacity-75 mb-0.5 block text-xs"},Tn={class:"text-base"},Ln={__name:"Label",props:{label:String},setup(e){return(t,n)=>(x(),M("div",Dn,[e.label?(x(),M("label",On,z(e.label),1)):De("",!0),K("div",Tn,[ee(t.$slots,"default")])]))}},Mn=Ln,Fn=A({__name:"Badge",props:{variant:{}},setup(e){return(t,n)=>(x(),M("div",{class:Q($(he)($(An)({variant:t.variant}),t.$attrs.class??""))},[ee(t.$slots,"default")],2))}}),An=mn("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),Ot=e=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"UAH"}).format(+e);var Tt={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(vn,function(){var n=1e3,r=6e4,a=36e5,o="millisecond",l="second",s="minute",u="hour",i="day",v="week",m="month",y="quarter",b="year",_="date",S="Invalid Date",F=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,V=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var p=["th","st","nd","rd"],f=w%100;return"["+w+(p[(f-20)%10]||p[f]||p[0])+"]"}},W=function(w,p,f){var c=String(w);return!c||c.length>=p?w:""+Array(p+1-c.length).join(f)+w},B={s:W,z:function(w){var p=-w.utcOffset(),f=Math.abs(p),c=Math.floor(f/60),d=f%60;return(p<=0?"+":"-")+W(c,2,"0")+":"+W(d,2,"0")},m:function w(p,f){if(p.date()<f.date())return-w(f,p);var c=12*(f.year()-p.year())+(f.month()-p.month()),d=p.clone().add(c,m),h=f-d<0,g=p.clone().add(c+(h?-1:1),m);return+(-(c+(f-d)/(h?d-g:g-d))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:m,y:b,w:v,d:i,D:_,h:u,m:s,s:l,ms:o,Q:y}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},P="en",Y={};Y[P]=T;var G="$isDayjsObject",se=function(w){return w instanceof ne||!(!w||!w[G])},de=function w(p,f,c){var d;if(!p)return P;if(typeof p=="string"){var h=p.toLowerCase();Y[h]&&(d=h),f&&(Y[h]=f,d=h);var g=p.split("-");if(!d&&g.length>1)return w(g[0])}else{var D=p.name;Y[D]=p,d=D}return!c&&d&&(P=d),d||!c&&P},N=function(w,p){if(se(w))return w.clone();var f=typeof p=="object"?p:{};return f.date=w,f.args=arguments,new ne(f)},C=B;C.l=de,C.i=se,C.w=function(w,p){return N(w,{locale:p.$L,utc:p.$u,x:p.$x,$offset:p.$offset})};var ne=function(){function w(f){this.$L=de(f.locale,null,!0),this.parse(f),this.$x=this.$x||f.x||{},this[G]=!0}var p=w.prototype;return p.parse=function(f){this.$d=function(c){var d=c.date,h=c.utc;if(d===null)return new Date(NaN);if(C.u(d))return new Date;if(d instanceof Date)return new Date(d);if(typeof d=="string"&&!/Z$/i.test(d)){var g=d.match(F);if(g){var D=g[2]-1||0,O=(g[7]||"0").substring(0,3);return h?new Date(Date.UTC(g[1],D,g[3]||1,g[4]||0,g[5]||0,g[6]||0,O)):new Date(g[1],D,g[3]||1,g[4]||0,g[5]||0,g[6]||0,O)}}return new Date(d)}(f),this.init()},p.init=function(){var f=this.$d;this.$y=f.getFullYear(),this.$M=f.getMonth(),this.$D=f.getDate(),this.$W=f.getDay(),this.$H=f.getHours(),this.$m=f.getMinutes(),this.$s=f.getSeconds(),this.$ms=f.getMilliseconds()},p.$utils=function(){return C},p.isValid=function(){return this.$d.toString()!==S},p.isSame=function(f,c){var d=N(f);return this.startOf(c)<=d&&d<=this.endOf(c)},p.isAfter=function(f,c){return N(f)<this.startOf(c)},p.isBefore=function(f,c){return this.endOf(c)<N(f)},p.$g=function(f,c,d){return C.u(f)?this[c]:this.set(d,f)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(f,c){var d=this,h=!!C.u(c)||c,g=C.p(f),D=function(ye,J){var ce=C.w(d.$u?Date.UTC(d.$y,J,ye):new Date(d.$y,J,ye),d);return h?ce:ce.endOf(i)},O=function(ye,J){return C.w(d.toDate()[ye].apply(d.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(J)),d)},j=this.$W,I=this.$M,X=this.$D,xe="set"+(this.$u?"UTC":"");switch(g){case b:return h?D(1,0):D(31,11);case m:return h?D(1,I):D(0,I+1);case v:var ge=this.$locale().weekStart||0,Te=(j<ge?j+7:j)-ge;return D(h?X-Te:X+(6-Te),I);case i:case _:return O(xe+"Hours",0);case u:return O(xe+"Minutes",1);case s:return O(xe+"Seconds",2);case l:return O(xe+"Milliseconds",3);default:return this.clone()}},p.endOf=function(f){return this.startOf(f,!1)},p.$set=function(f,c){var d,h=C.p(f),g="set"+(this.$u?"UTC":""),D=(d={},d[i]=g+"Date",d[_]=g+"Date",d[m]=g+"Month",d[b]=g+"FullYear",d[u]=g+"Hours",d[s]=g+"Minutes",d[l]=g+"Seconds",d[o]=g+"Milliseconds",d)[h],O=h===i?this.$D+(c-this.$W):c;if(h===m||h===b){var j=this.clone().set(_,1);j.$d[D](O),j.init(),this.$d=j.set(_,Math.min(this.$D,j.daysInMonth())).$d}else D&&this.$d[D](O);return this.init(),this},p.set=function(f,c){return this.clone().$set(f,c)},p.get=function(f){return this[C.p(f)]()},p.add=function(f,c){var d,h=this;f=Number(f);var g=C.p(c),D=function(I){var X=N(h);return C.w(X.date(X.date()+Math.round(I*f)),h)};if(g===m)return this.set(m,this.$M+f);if(g===b)return this.set(b,this.$y+f);if(g===i)return D(1);if(g===v)return D(7);var O=(d={},d[s]=r,d[u]=a,d[l]=n,d)[g]||1,j=this.$d.getTime()+f*O;return C.w(j,this)},p.subtract=function(f,c){return this.add(-1*f,c)},p.format=function(f){var c=this,d=this.$locale();if(!this.isValid())return d.invalidDate||S;var h=f||"YYYY-MM-DDTHH:mm:ssZ",g=C.z(this),D=this.$H,O=this.$m,j=this.$M,I=d.weekdays,X=d.months,xe=d.meridiem,ge=function(J,ce,Le,Be){return J&&(J[ce]||J(c,h))||Le[ce].slice(0,Be)},Te=function(J){return C.s(D%12||12,J,"0")},ye=xe||function(J,ce,Le){var Be=J<12?"AM":"PM";return Le?Be.toLowerCase():Be};return h.replace(V,function(J,ce){return ce||function(Le){switch(Le){case"YY":return String(c.$y).slice(-2);case"YYYY":return C.s(c.$y,4,"0");case"M":return j+1;case"MM":return C.s(j+1,2,"0");case"MMM":return ge(d.monthsShort,j,X,3);case"MMMM":return ge(X,j);case"D":return c.$D;case"DD":return C.s(c.$D,2,"0");case"d":return String(c.$W);case"dd":return ge(d.weekdaysMin,c.$W,I,2);case"ddd":return ge(d.weekdaysShort,c.$W,I,3);case"dddd":return I[c.$W];case"H":return String(D);case"HH":return C.s(D,2,"0");case"h":return Te(1);case"hh":return Te(2);case"a":return ye(D,O,!0);case"A":return ye(D,O,!1);case"m":return String(O);case"mm":return C.s(O,2,"0");case"s":return String(c.$s);case"ss":return C.s(c.$s,2,"0");case"SSS":return C.s(c.$ms,3,"0");case"Z":return g}return null}(J)||g.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(f,c,d){var h,g=this,D=C.p(c),O=N(f),j=(O.utcOffset()-this.utcOffset())*r,I=this-O,X=function(){return C.m(g,O)};switch(D){case b:h=X()/12;break;case m:h=X();break;case y:h=X()/3;break;case v:h=(I-j)/6048e5;break;case i:h=(I-j)/864e5;break;case u:h=I/a;break;case s:h=I/r;break;case l:h=I/n;break;default:h=I}return d?h:C.a(h)},p.daysInMonth=function(){return this.endOf(m).$D},p.$locale=function(){return Y[this.$L]},p.locale=function(f,c){if(!f)return this.$L;var d=this.clone(),h=de(f,c,!0);return h&&(d.$L=h),d},p.clone=function(){return C.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},w}(),U=ne.prototype;return N.prototype=U,[["$ms",o],["$s",l],["$m",s],["$H",u],["$W",i],["$M",m],["$y",b],["$D",_]].forEach(function(w){U[w[1]]=function(p){return this.$g(p,w[0],w[1])}}),N.extend=function(w,p){return w.$i||(w(p,ne,N),w.$i=!0),N},N.locale=de,N.isDayjs=se,N.unix=function(w){return N(1e3*w)},N.en=Y[P],N.Ls=Y,N.p={},N})})(Tt);var Pn=Tt.exports;const pt=hn(Pn),bt={card:null,isOpen:!1},je=Xt("deal-slide",{state:()=>bt,actions:{clear(){this.$patch(bt)},set(e){this.$patch({card:e,isOpen:!0})},toggle(){this.isOpen=!this.isOpen}}}),Nn={class:"border-border bg-sidebar rounded p-3"},Hn=K("div",{class:"uppercase bold text-xl mb-4"},"About the deal",-1),jn=A({__name:"Top",setup(e){const t=je();return(n,r)=>{const a=Mn,o=Fn;return x(),M("div",Nn,[Hn,L(a,{"label-text":"Name"},{default:H(()=>{var l;return[K("h2",null,z((l=$(t).card)==null?void 0:l.name),1)]}),_:1}),L(a,{"label-text":"Sum"},{default:H(()=>{var l;return[pe(z(("convertCurrency"in n?n.convertCurrency:$(Ot))(((l=$(t).card)==null?void 0:l.price)||0)),1)]}),_:1}),L(a,{"label-text":"Status"},{default:H(()=>[L(o,{variant:"outline"},{default:H(()=>{var l;return[pe(z((l=$(t).card)==null?void 0:l.status),1)]}),_:1})]),_:1}),L(a,{"label-text":"Client"},{default:H(()=>{var l;return[pe(z((l=$(t).card)==null?void 0:l.companyName),1)]}),_:1}),L(a,{"label-text":"Date of creation"},{default:H(()=>{var l;return[pe(z($(pt)((l=$(t).card)==null?void 0:l.$createdAt).format("DD MMMM YYYY")),1)]}),_:1})])}}}),Rn=A({__name:"Skeleton",props:{class:{}},setup(e){const t=e;return(n,r)=>(x(),M("div",{class:Q($(he)("animate-pulse rounded-md bg-secondary",t.class))},null,2))}});function In({refetch:e}){const t=je(),n=k(""),{mutate:r}=ft({mutationKey:["add comments",n.value],mutationFn:()=>{var o;return Ne.createDocument(He,gn,xt(),{text:n.value,deal:(o=t.card)==null?void 0:o.id})},onSuccess:()=>{e(),n.value=""}});return{writeComment:()=>{n.value&&r()},commentRef:n}}function Bn(){var n;const t=((n=je().card)==null?void 0:n.id)||"";return Dt({queryKey:["deal",t],queryFn:()=>Ne.getDocument(He,Qe,t)})}const Un={key:1},Vn={class:"border-border bg-black/20 rounded p-3 w-full"},Wn={class:"mb-2 text-sm"},Yn=A({__name:"Comments",setup(e){const{data:t,refetch:n,isLoading:r}=Bn(),{commentRef:a,writeComment:o}=In({refetch:n}),l=t;return(s,u)=>{var y;const i=Ct,v=Rn,m=kt;return x(),M(Ee,null,[L(i,{placeholder:"Leave a comment",modelValue:$(a),"onUpdate:modelValue":u[0]||(u[0]=b=>ke(a)?a.value=b:null),onKeyup:en($(o),["enter"])},null,8,["modelValue","onKeyup"]),$(r)?(x(),Se(v,{key:0,class:"w-full h-[76px] bg-sidebar rounded mt-5"})):$(l)?(x(),M("div",Un,[(x(!0),M(Ee,null,rt((y=$(l))==null?void 0:y.comments,b=>(x(),M("div",{key:b.$id,class:"flex items-start mt-5"},[L(m,{name:"radix-icons:chat-bubble",class:"mr-3 mt-1",size:"20"}),K("div",Vn,[K("div",Wn," Comment "+z($(pt)(b.$createdAt).format("HH:mm")),1),K("p",null,z(b.text),1)])]))),128))])):De("",!0)],64)}}}),Lt=(e,t,n,r,a=!1)=>{const o=tn(),l=nn(),s=E(()=>{var y;const i=Xe(t),v=Xe(n),m=Xe(r);return ct((i==null?void 0:i.strategy)||((y=l.ui)==null?void 0:y.strategy),m?{wrapper:m}:{},i||{},a?wn(l.ui,e,{}):{},v||{})}),u=E(()=>bn(o,["class"]));return{ui:s,attrs:u}},Mt={base:"invisible before:visible before:block before:rotate-45 before:z-[-1] before:w-2 before:h-2",ring:"before:ring-1 before:ring-gray-200 dark:before:ring-gray-800",rounded:"before:rounded-sm",background:"before:bg-gray-200 dark:before:bg-gray-800",shadow:"before:shadow",placement:"group-data-[popper-placement*='right']:-left-1 group-data-[popper-placement*='left']:-right-1 group-data-[popper-placement*='top']:-bottom-1 group-data-[popper-placement*='bottom']:-top-1"},wt={container:"z-20 group",trigger:"inline-flex w-full",width:"w-full",height:"max-h-60",base:"relative focus:outline-none overflow-y-auto scroll-py-1",background:"bg-white dark:bg-gray-800",shadow:"shadow-lg",rounded:"rounded-md",padding:"p-1",ring:"ring-1 ring-gray-200 dark:ring-gray-700",empty:"text-sm text-gray-400 dark:text-gray-500 px-2 py-1.5",option:{base:"cursor-default select-none relative flex items-center justify-between gap-1",rounded:"rounded-md",padding:"px-2 py-1.5",size:"text-sm",color:"text-gray-900 dark:text-white",container:"flex items-center gap-2 min-w-0",active:"bg-gray-100 dark:bg-gray-900",inactive:"",selected:"pe-7",disabled:"cursor-not-allowed opacity-50",empty:"text-sm text-gray-400 dark:text-gray-500 px-2 py-1.5",icon:{base:"flex-shrink-0 h-4 w-4",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{wrapper:"absolute inset-y-0 end-0 flex items-center",padding:"pe-2",base:"h-4 w-4 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"3xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"}},transition:{leaveActiveClass:"transition ease-in duration-100",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"},popper:{placement:"bottom-end"},default:{selectedIcon:"i-heroicons-check-20-solid",trailingIcon:"i-heroicons-chevron-down-20-solid"},arrow:{...Mt,ring:"before:ring-1 before:ring-gray-200 dark:before:ring-gray-700",background:"before:bg-white dark:before:bg-gray-700"}};({...wt,option:{...wt.option},arrow:{...Mt}});const Kn={base:"",background:"bg-white dark:bg-gray-900",divide:"divide-y divide-gray-200 dark:divide-gray-800",ring:"ring-1 ring-gray-200 dark:ring-gray-800",rounded:"rounded-lg",shadow:"shadow",body:{base:"",background:"",padding:"px-4 py-5 sm:p-6"},header:{base:"",background:"",padding:"px-4 py-5 sm:px-6"},footer:{base:"",background:"",padding:"px-4 py-4 sm:px-6"}},qn={wrapper:"fixed inset-0 flex z-50",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},base:"relative flex-1 flex flex-col w-full focus:outline-none",background:"bg-white dark:bg-gray-900",ring:"",rounded:"",padding:"",shadow:"shadow-xl",width:"w-screen max-w-md",translate:{base:"translate-x-0",left:"-translate-x-full",right:"translate-x-full"},transition:{enter:"transform transition ease-in-out duration-300",leave:"transform transition ease-in-out duration-200"}},zn=ct(qe.ui.strategy,qe.ui.card,Kn),Gn=A({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:n}=Lt("card",at(e,"ui"),zn),r=E(()=>rn(an(t.value.base,t.value.rounded,t.value.divide,t.value.ring,t.value.shadow,t.value.background),e.class));return{ui:t,attrs:n,cardClass:r}}});function Jn(e,t,n,r,a,o){return x(),Se(on(e.$attrs.onSubmit?"form":e.as),me({class:e.cardClass},e.attrs),{default:H(()=>[e.$slots.header?(x(),M("div",{key:0,class:Q([e.ui.header.base,e.ui.header.padding,e.ui.header.background])},[ee(e.$slots,"header")],2)):De("",!0),K("div",{class:Q([e.ui.body.base,e.ui.body.padding,e.ui.body.background])},[ee(e.$slots,"default")],2),e.$slots.footer?(x(),M("div",{key:1,class:Q([e.ui.footer.base,e.ui.footer.padding,e.ui.footer.background])},[ee(e.$slots,"footer")],2)):De("",!0)]),_:3},16,["class"])}const Qn=Je(Gn,[["render",Jn]]);function le(e,t,...n){if(e in t){let a=t[e];return typeof a=="function"?a(...n):a}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,le),r}var ze=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ze||{}),ve=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ve||{});function ue({visible:e=!0,features:t=0,ourProps:n,theirProps:r,...a}){var o;let l=At(r,n),s=Object.assign(a,{props:l});if(e||t&2&&l.static)return et(s);if(t&1){let u=(o=l.unmount)==null||o?0:1;return le(u,{0(){return null},1(){return et({...a,props:{...l,hidden:!0,style:{display:"none"}}})}})}return et(s)}function et({props:e,attrs:t,slots:n,slot:r,name:a}){var o,l;let{as:s,...u}=Pt(e,["unmount","static"]),i=(o=n.default)==null?void 0:o.call(n,r),v={};if(r){let m=!1,y=[];for(let[b,_]of Object.entries(r))typeof _=="boolean"&&(m=!0),_===!0&&y.push(b);m&&(v["data-headlessui-state"]=y.join(" "))}if(s==="template"){if(i=Ft(i??[]),Object.keys(u).length>0||Object.keys(t).length>0){let[m,...y]=i??[];if(!Zn(m)||y.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${a} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(u).concat(Object.keys(t)).map(S=>S.trim()).filter((S,F,V)=>V.indexOf(S)===F).sort((S,F)=>S.localeCompare(F)).map(S=>`  - ${S}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(S=>`  - ${S}`).join(`
`)].join(`
`));let b=At((l=m.props)!=null?l:{},u),_=ln(m,b);for(let S in b)S.startsWith("on")&&(_.props||(_.props={}),_.props[S]=b[S]);return _}return Array.isArray(i)&&i.length===1?i[0]:i}return q(s,Object.assign({},u,v),{default:()=>i})}function Ft(e){return e.flatMap(t=>t.type===Ee?Ft(t.children):[t])}function At(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let a in r)a.startsWith("on")&&typeof r[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(r[a])):t[a]=r[a];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](a,...o){let l=n[r];for(let s of l){if(a instanceof Event&&a.defaultPrevented)return;s(a,...o)}}});return t}function Pt(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function Zn(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Xn=0;function er(){return++Xn}function mt(){return er()}var Nt=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Nt||{});function R(e){var t;return e==null||e.value==null?null:(t=e.value.$el)!=null?t:e.value}let Ht=Symbol("Context");var Z=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Z||{});function tr(){return vt()!==null}function vt(){return re(Ht,null)}function nr(e){oe(Ht,e)}var rr=Object.defineProperty,ar=(e,t,n)=>t in e?rr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$t=(e,t,n)=>(ar(e,typeof t!="symbol"?t+"":t,n),n);class or{constructor(){$t(this,"current",this.detect()),$t(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let Re=new or;function Oe(e){if(Re.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=R(e);if(t)return t.ownerDocument}return document}let ot=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var fe=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(fe||{}),jt=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(jt||{}),lr=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(lr||{});function sr(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ot)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Rt=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Rt||{});function ir(e,t=0){var n;return e===((n=Oe(e))==null?void 0:n.body)?!1:le(t,{0(){return e.matches(ot)},1(){let r=e;for(;r!==null;){if(r.matches(ot))return!0;r=r.parentElement}return!1}})}var ur=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(ur||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function _e(e){e==null||e.focus({preventScroll:!0})}let dr=["textarea","input"].join(",");function cr(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,dr))!=null?n:!1}function fr(e,t=n=>n){return e.slice().sort((n,r)=>{let a=t(n),o=t(r);if(a===null||o===null)return 0;let l=a.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ke(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:a=[]}={}){var o;let l=(o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?o:document,s=Array.isArray(e)?n?fr(e):e:sr(e);a.length>0&&s.length>1&&(s=s.filter(_=>!a.includes(_))),r=r??l.activeElement;let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),i=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),v=t&32?{preventScroll:!0}:{},m=0,y=s.length,b;do{if(m>=y||m+y<=0)return 0;let _=i+m;if(t&16)_=(_+y)%y;else{if(_<0)return 3;if(_>=y)return 1}b=s[_],b==null||b.focus(v),m+=u}while(b!==l.activeElement);return t&6&&cr(b)&&b.select(),2}function Ve(e,t,n){Re.isServer||ae(r=>{document.addEventListener(e,t,n),r(()=>document.removeEventListener(e,t,n))})}function It(e,t,n){Re.isServer||ae(r=>{window.addEventListener(e,t,n),r(()=>window.removeEventListener(e,t,n))})}function pr(e,t,n=E(()=>!0)){function r(o,l){if(!n.value||o.defaultPrevented)return;let s=l(o);if(s===null||!s.getRootNode().contains(s))return;let u=function i(v){return typeof v=="function"?i(v()):Array.isArray(v)||v instanceof Set?v:[v]}(e);for(let i of u){if(i===null)continue;let v=i instanceof HTMLElement?i:R(i);if(v!=null&&v.contains(s)||o.composed&&o.composedPath().includes(v))return}return!ir(s,Rt.Loose)&&s.tabIndex!==-1&&o.preventDefault(),t(o,s)}let a=k(null);Ve("pointerdown",o=>{var l,s;n.value&&(a.value=((s=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:s[0])||o.target)},!0),Ve("mousedown",o=>{var l,s;n.value&&(a.value=((s=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:s[0])||o.target)},!0),Ve("click",o=>{a.value&&(r(o,()=>a.value),a.value=null)},!0),Ve("touchend",o=>r(o,()=>o.target instanceof HTMLElement?o.target:null),!0),It("blur",o=>r(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var Ge=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ge||{});let lt=A({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:n}){return()=>{let{features:r,...a}=e,o={"aria-hidden":(r&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return ue({ourProps:o,theirProps:a,slot:{},attrs:n,slots:t,name:"Hidden"})}}});function mr(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ht(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Ie(){let e=[],t={addEventListener(n,r,a,o){return n.addEventListener(r,a,o),t.add(()=>n.removeEventListener(r,a,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...n)})},setTimeout(...n){let r=setTimeout(...n);t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return ht(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,a){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:a}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Ie();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let a of e.splice(r,1))a()}},dispose(){for(let n of e.splice(0))n()}};return t}var Ae=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ae||{});function vr(){let e=k(0);return It("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function Bt(e,t,n,r){Re.isServer||ae(a=>{e=e??window,e.addEventListener(t,n,r),a(()=>e.removeEventListener(t,n,r))})}function hr(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}function Ut(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.value){let r=R(n);r instanceof HTMLElement&&t.add(r)}return t}var Vt=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Vt||{});let Me=Object.assign(A({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:k(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:r}){let a=k(null);r({el:a,$el:a});let o=E(()=>Oe(a)),l=k(!1);te(()=>l.value=!0),ie(()=>l.value=!1),yr({ownerDocument:o},E(()=>l.value&&!!(e.features&16)));let s=br({ownerDocument:o,container:a,initialFocus:E(()=>e.initialFocus)},E(()=>l.value&&!!(e.features&2)));wr({ownerDocument:o,container:a,containers:e.containers,previousActiveElement:s},E(()=>l.value&&!!(e.features&8)));let u=vr();function i(b){let _=R(a);_&&(S=>S())(()=>{le(u.value,{[Ae.Forwards]:()=>{Ke(_,fe.First,{skipElements:[b.relatedTarget]})},[Ae.Backwards]:()=>{Ke(_,fe.Last,{skipElements:[b.relatedTarget]})}})})}let v=k(!1);function m(b){b.key==="Tab"&&(v.value=!0,requestAnimationFrame(()=>{v.value=!1}))}function y(b){if(!l.value)return;let _=Ut(e.containers);R(a)instanceof HTMLElement&&_.add(R(a));let S=b.relatedTarget;S instanceof HTMLElement&&S.dataset.headlessuiFocusGuard!=="true"&&(Wt(_,S)||(v.value?Ke(R(a),le(u.value,{[Ae.Forwards]:()=>fe.Next,[Ae.Backwards]:()=>fe.Previous})|fe.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&_e(b.target)))}return()=>{let b={},_={ref:a,onKeydown:m,onFocusout:y},{features:S,initialFocus:F,containers:V,...T}=e;return q(Ee,[!!(S&4)&&q(lt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:i,features:Ge.Focusable}),ue({ourProps:_,theirProps:{...t,...T},slot:b,attrs:t,slots:n,name:"FocusTrap"}),!!(S&4)&&q(lt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:i,features:Ge.Focusable})])}}}),{features:Vt}),we=[];hr(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&we[0]!==t.target&&(we.unshift(t.target),we=we.filter(n=>n!=null&&n.isConnected),we.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function gr(e){let t=k(we.slice());return Pe([e],([n],[r])=>{r===!0&&n===!1?ht(()=>{t.value.splice(0)}):r===!1&&n===!0&&(t.value=we.slice())},{flush:"post"}),()=>{var n;return(n=t.value.find(r=>r!=null&&r.isConnected))!=null?n:null}}function yr({ownerDocument:e},t){let n=gr(t);te(()=>{ae(()=>{var r,a;t.value||((r=e.value)==null?void 0:r.activeElement)===((a=e.value)==null?void 0:a.body)&&_e(n())},{flush:"post"})}),ie(()=>{t.value&&_e(n())})}function br({ownerDocument:e,container:t,initialFocus:n},r){let a=k(null),o=k(!1);return te(()=>o.value=!0),ie(()=>o.value=!1),te(()=>{Pe([t,n,r],(l,s)=>{if(l.every((i,v)=>(s==null?void 0:s[v])===i)||!r.value)return;let u=R(t);u&&ht(()=>{var i,v;if(!o.value)return;let m=R(n),y=(i=e.value)==null?void 0:i.activeElement;if(m){if(m===y){a.value=y;return}}else if(u.contains(y)){a.value=y;return}m?_e(m):Ke(u,fe.First|fe.NoScroll)===jt.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.value=(v=e.value)==null?void 0:v.activeElement})},{immediate:!0,flush:"post"})}),a}function wr({ownerDocument:e,container:t,containers:n,previousActiveElement:r},a){var o;Bt((o=e.value)==null?void 0:o.defaultView,"focus",l=>{if(!a.value)return;let s=Ut(n);R(t)instanceof HTMLElement&&s.add(R(t));let u=r.value;if(!u)return;let i=l.target;i&&i instanceof HTMLElement?Wt(s,i)?(r.value=i,_e(i)):(l.preventDefault(),l.stopPropagation(),_e(u)):_e(r.value)},!0)}function Wt(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let tt=new Map,Fe=new Map;function _t(e,t=k(!0)){ae(n=>{var r;if(!t.value)return;let a=R(e);if(!a)return;n(function(){var l;if(!a)return;let s=(l=Fe.get(a))!=null?l:1;if(s===1?Fe.delete(a):Fe.set(a,s-1),s!==1)return;let u=tt.get(a);u&&(u["aria-hidden"]===null?a.removeAttribute("aria-hidden"):a.setAttribute("aria-hidden",u["aria-hidden"]),a.inert=u.inert,tt.delete(a))});let o=(r=Fe.get(a))!=null?r:0;Fe.set(a,o+1),o===0&&(tt.set(a,{"aria-hidden":a.getAttribute("aria-hidden"),inert:a.inert}),a.setAttribute("aria-hidden","true"),a.inert=!0)})}let Yt=Symbol("ForcePortalRootContext");function $r(){return re(Yt,!1)}let St=A({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){return oe(Yt,e.force),()=>{let{force:r,...a}=e;return ue({theirProps:a,ourProps:{},slot:{},slots:t,attrs:n,name:"ForcePortalRoot"})}}});function _r(e){let t=Oe(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let n=t.getElementById("headlessui-portal-root");if(n)return n;let r=t.createElement("div");return r.setAttribute("id","headlessui-portal-root"),t.body.appendChild(r)}let Sr=A({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n}){let r=k(null),a=E(()=>Oe(r)),o=$r(),l=re(Kt,null),s=k(o===!0||l==null?_r(r.value):l.resolveTarget());ae(()=>{o||l!=null&&(s.value=l.resolveTarget())});let u=re(st,null);return te(()=>{let i=R(r);i&&u&&ie(u.register(i))}),ie(()=>{var i,v;let m=(i=a.value)==null?void 0:i.getElementById("headlessui-portal-root");m&&s.value===m&&s.value.children.length<=0&&((v=s.value.parentElement)==null||v.removeChild(s.value))}),()=>{if(s.value===null)return null;let i={ref:r,"data-headlessui-portal":""};return q(sn,{to:s.value},ue({ourProps:i,theirProps:e,slot:{},attrs:n,slots:t,name:"Portal"}))}}}),st=Symbol("PortalParentContext");function Er(){let e=re(st,null),t=k([]);function n(o){return t.value.push(o),e&&e.register(o),()=>r(o)}function r(o){let l=t.value.indexOf(o);l!==-1&&t.value.splice(l,1),e&&e.unregister(o)}let a={register:n,unregister:r,portals:t};return[t,A({name:"PortalWrapper",setup(o,{slots:l}){return oe(st,a),()=>{var s;return(s=l.default)==null?void 0:s.call(l)}}})]}let Kt=Symbol("PortalGroupContext"),xr=A({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:n}){let r=un({resolveTarget(){return e.target}});return oe(Kt,r),()=>{let{target:a,...o}=e;return ue({theirProps:o,ourProps:{},slot:{},attrs:t,slots:n,name:"PortalGroup"})}}}),qt=Symbol("StackContext");var it=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(it||{});function Cr(){return re(qt,()=>{})}function kr({type:e,enabled:t,element:n,onUpdate:r}){let a=Cr();function o(...l){r==null||r(...l),a(...l)}te(()=>{Pe(t,(l,s)=>{l?o(0,e,n):s===!0&&o(1,e,n)},{immediate:!0,flush:"sync"})}),ie(()=>{t.value&&o(1,e,n)}),oe(qt,o)}let Dr=Symbol("DescriptionContext");function Or({slot:e=k({}),name:t="Description",props:n={}}={}){let r=k([]);function a(o){return r.value.push(o),()=>{let l=r.value.indexOf(o);l!==-1&&r.value.splice(l,1)}}return oe(Dr,{register:a,slot:e,name:t,props:n}),E(()=>r.value.length>0?r.value.join(" "):void 0)}function Tr(e){let t=dn(e.getSnapshot());return ie(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function Lr(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(a){return r.add(a),()=>r.delete(a)},dispatch(a,...o){let l=t[a].call(n,...o);l&&(n=l,r.forEach(s=>s()))}}}function Mr(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,a=r.clientWidth-r.offsetWidth,o=e-a;n.style(r,"paddingRight",`${o}px`)}}}function Fr(){if(!mr())return{};let e;return{before(){e=window.pageYOffset},after({doc:t,d:n,meta:r}){function a(l){return r.containers.flatMap(s=>s()).some(s=>s.contains(l))}if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=Ie();l.style(t.documentElement,"scroll-behavior","auto"),n.add(()=>n.microTask(()=>l.dispose()))}n.style(t.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let o=null;n.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let s=l.target.closest("a");if(!s)return;let{hash:u}=new URL(s.href),i=t.querySelector(u);i&&!a(i)&&(o=i)}catch{}},!0),n.addEventListener(t,"touchmove",l=>{l.target instanceof HTMLElement&&!a(l.target)&&l.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+e),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})}}}function Ar(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Pr(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let $e=Lr(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Ie(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Pr(n)},a=[Fr(),Mr(),Ar()];a.forEach(({before:o})=>o==null?void 0:o(r)),a.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});$e.subscribe(()=>{let e=$e.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",a=n.count!==0;(a&&!r||!a&&r)&&$e.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&$e.dispatch("TEARDOWN",n)}});function Nr(e,t,n){let r=Tr($e),a=E(()=>{let o=e.value?r.value.get(e.value):void 0;return o?o.count>0:!1});return Pe([e,t],([o,l],[s],u)=>{if(!o||!l)return;$e.dispatch("PUSH",o,n);let i=!1;u(()=>{i||($e.dispatch("POP",s??o,n),i=!0)})},{immediate:!0}),a}function Hr({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){let r=k(null),a=Oe(r);function o(){var l;let s=[];for(let u of e)u!==null&&(u instanceof HTMLElement?s.push(u):"value"in u&&u.value instanceof HTMLElement&&s.push(u.value));if(t!=null&&t.value)for(let u of t.value)s.push(u);for(let u of(l=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?l:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(R(r))||s.some(i=>u.contains(i))||s.push(u));return s}return{resolveContainers:o,contains(l){return o().some(s=>s.contains(l))},mainTreeNodeRef:r,MainTreeNode(){return n!=null?null:q(lt,{features:Ge.Hidden,ref:r})}}}var jr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(jr||{});let ut=Symbol("DialogContext");function zt(e){let t=re(ut,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,zt),n}return t}let We="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Rr=A({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:We},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${mt()}`}},emits:{close:e=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:a}){var o;let l=k(!1);te(()=>{l.value=!0});let s=k(0),u=vt(),i=E(()=>e.open===We&&u!==null?(u.value&Z.Open)===Z.Open:e.open),v=k(null),m=E(()=>Oe(v));if(a({el:v,$el:v}),!(e.open!==We||u!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof i.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i.value===We?void 0:e.open}`);let y=E(()=>l.value&&i.value?0:1),b=E(()=>y.value===0),_=E(()=>s.value>1),S=re(ut,null)!==null,[F,V]=Er(),{resolveContainers:T,mainTreeNodeRef:W,MainTreeNode:B}=Hr({portals:F,defaultContainers:[E(()=>{var c;return(c=U.panelRef.value)!=null?c:v.value})]}),P=E(()=>_.value?"parent":"leaf"),Y=E(()=>u!==null?(u.value&Z.Closing)===Z.Closing:!1),G=E(()=>S||Y.value?!1:b.value),se=E(()=>{var c,d,h;return(h=Array.from((d=(c=m.value)==null?void 0:c.querySelectorAll("body > *"))!=null?d:[]).find(g=>g.id==="headlessui-portal-root"?!1:g.contains(R(W))&&g instanceof HTMLElement))!=null?h:null});_t(se,G);let de=E(()=>_.value?!0:b.value),N=E(()=>{var c,d,h;return(h=Array.from((d=(c=m.value)==null?void 0:c.querySelectorAll("[data-headlessui-portal]"))!=null?d:[]).find(g=>g.contains(R(W))&&g instanceof HTMLElement))!=null?h:null});_t(N,de),kr({type:"Dialog",enabled:E(()=>y.value===0),element:v,onUpdate:(c,d)=>{if(d==="Dialog")return le(c,{[it.Add]:()=>s.value+=1,[it.Remove]:()=>s.value-=1})}});let C=Or({name:"DialogDescription",slot:E(()=>({open:i.value}))}),ne=k(null),U={titleId:ne,panelRef:k(null),dialogState:y,setTitleId(c){ne.value!==c&&(ne.value=c)},close(){t("close",!1)}};oe(ut,U);let w=E(()=>!(!b.value||_.value));pr(T,(c,d)=>{U.close(),cn(()=>d==null?void 0:d.focus())},w);let p=E(()=>!(_.value||y.value!==0));Bt((o=m.value)==null?void 0:o.defaultView,"keydown",c=>{p.value&&(c.defaultPrevented||c.key===Nt.Escape&&(c.preventDefault(),c.stopPropagation(),U.close()))});let f=E(()=>!(Y.value||y.value!==0||S));return Nr(m,f,c=>{var d;return{containers:[...(d=c.containers)!=null?d:[],T]}}),ae(c=>{if(y.value!==0)return;let d=R(v);if(!d)return;let h=new ResizeObserver(g=>{for(let D of g){let O=D.target.getBoundingClientRect();O.x===0&&O.y===0&&O.width===0&&O.height===0&&U.close()}});h.observe(d),c(()=>h.disconnect())}),()=>{let{id:c,open:d,initialFocus:h,...g}=e,D={...n,ref:v,id:c,role:"dialog","aria-modal":y.value===0?!0:void 0,"aria-labelledby":ne.value,"aria-describedby":C.value},O={open:y.value===0};return q(St,{force:!0},()=>[q(Sr,()=>q(xr,{target:v.value},()=>q(St,{force:!1},()=>q(Me,{initialFocus:h,containers:T,features:b.value?le(P.value,{parent:Me.features.RestoreFocus,leaf:Me.features.All&~Me.features.FocusLock}):Me.features.None},()=>q(V,{},()=>ue({ourProps:D,theirProps:{...g,...n},slot:O,attrs:n,slots:r,visible:y.value===0,features:ze.RenderStrategy|ze.Static,name:"Dialog"})))))),q(B)])}}}),Ir=A({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${mt()}`}},setup(e,{attrs:t,slots:n,expose:r}){let a=zt("DialogPanel");r({el:a.panelRef,$el:a.panelRef});function o(l){l.stopPropagation()}return()=>{let{id:l,...s}=e,u={id:l,ref:a.panelRef,onClick:o};return ue({ourProps:u,theirProps:s,slot:{open:a.dialogState.value===0},attrs:t,slots:n,name:"DialogPanel"})}}});function Br(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function nt(e,...t){e&&t.length>0&&e.classList.add(...t)}function Ye(e,...t){e&&t.length>0&&e.classList.remove(...t)}var dt=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(dt||{});function Ur(e,t){let n=Ie();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:a}=getComputedStyle(e),[o,l]=[r,a].map(s=>{let[u=0]=s.split(",").filter(Boolean).map(i=>i.includes("ms")?parseFloat(i):parseFloat(i)*1e3).sort((i,v)=>v-i);return u});return o!==0?n.setTimeout(()=>t("finished"),o+l):t("finished"),n.add(()=>t("cancelled")),n.dispose}function Et(e,t,n,r,a,o){let l=Ie(),s=o!==void 0?Br(o):()=>{};return Ye(e,...a),nt(e,...t,...n),l.nextFrame(()=>{Ye(e,...n),nt(e,...r),l.add(Ur(e,u=>(Ye(e,...r,...t),nt(e,...a),s(u))))}),l.add(()=>Ye(e,...t,...n,...r,...a)),l.add(()=>s("cancelled")),l.dispose}function be(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let gt=Symbol("TransitionContext");var Vr=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Vr||{});function Wr(){return re(gt,null)!==null}function Yr(){let e=re(gt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Kr(){let e=re(yt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let yt=Symbol("NestingContext");function Ze(e){return"children"in e?Ze(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function Gt(e){let t=k([]),n=k(!1);te(()=>n.value=!0),ie(()=>n.value=!1);function r(o,l=ve.Hidden){let s=t.value.findIndex(({id:u})=>u===o);s!==-1&&(le(l,{[ve.Unmount](){t.value.splice(s,1)},[ve.Hidden](){t.value[s].state="hidden"}}),!Ze(t)&&n.value&&(e==null||e()))}function a(o){let l=t.value.find(({id:s})=>s===o);return l?l.state!=="visible"&&(l.state="visible"):t.value.push({id:o,state:"visible"}),()=>r(o,ve.Unmount)}return{children:t,register:a,unregister:r}}let Jt=ze.RenderStrategy,Qt=A({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:a}){let o=k(0);function l(){o.value|=Z.Opening,t("beforeEnter")}function s(){o.value&=~Z.Opening,t("afterEnter")}function u(){o.value|=Z.Closing,t("beforeLeave")}function i(){o.value&=~Z.Closing,t("afterLeave")}if(!Wr()&&tr())return()=>q(Zt,{...e,onBeforeEnter:l,onAfterEnter:s,onBeforeLeave:u,onAfterLeave:i},r);let v=k(null),m=E(()=>e.unmount?ve.Unmount:ve.Hidden);a({el:v,$el:v});let{show:y,appear:b}=Yr(),{register:_,unregister:S}=Kr(),F=k(y.value?"visible":"hidden"),V={value:!0},T=mt(),W={value:!1},B=Gt(()=>{!W.value&&F.value!=="hidden"&&(F.value="hidden",S(T),i())});te(()=>{let U=_(T);ie(U)}),ae(()=>{if(m.value===ve.Hidden&&T){if(y.value&&F.value!=="visible"){F.value="visible";return}le(F.value,{hidden:()=>S(T),visible:()=>_(T)})}});let P=be(e.enter),Y=be(e.enterFrom),G=be(e.enterTo),se=be(e.entered),de=be(e.leave),N=be(e.leaveFrom),C=be(e.leaveTo);te(()=>{ae(()=>{if(F.value==="visible"){let U=R(v);if(U instanceof Comment&&U.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function ne(U){let w=V.value&&!b.value,p=R(v);!p||!(p instanceof HTMLElement)||w||(W.value=!0,y.value&&l(),y.value||u(),U(y.value?Et(p,P,Y,G,se,f=>{W.value=!1,f===dt.Finished&&s()}):Et(p,de,N,C,se,f=>{W.value=!1,f===dt.Finished&&(Ze(B)||(F.value="hidden",S(T),i()))})))}return te(()=>{Pe([y],(U,w,p)=>{ne(p),V.value=!1},{immediate:!0})}),oe(yt,B),nr(E(()=>le(F.value,{visible:Z.Open,hidden:Z.Closed})|o.value)),()=>{let{appear:U,show:w,enter:p,enterFrom:f,enterTo:c,entered:d,leave:h,leaveFrom:g,leaveTo:D,...O}=e,j={ref:v},I={...O,...b.value&&y.value&&Re.isServer?{class:Q([n.class,O.class,...P,...Y])}:{}};return ue({theirProps:I,ourProps:j,slot:{},slots:r,attrs:n,features:Jt,visible:F.value==="visible",name:"TransitionChild"})}}}),qr=Qt,Zt=A({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r}){let a=vt(),o=E(()=>e.show===null&&a!==null?(a.value&Z.Open)===Z.Open:e.show);ae(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=k(o.value?"visible":"hidden"),s=Gt(()=>{l.value="hidden"}),u=k(!0),i={show:o,appear:E(()=>e.appear||!u.value)};return te(()=>{ae(()=>{u.value=!1,o.value?l.value="visible":Ze(s)||(l.value="hidden")})}),oe(yt,s),oe(gt,i),()=>{let v=Pt(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),m={unmount:e.unmount};return ue({ourProps:{...m,as:"template"},theirProps:{},slot:{},slots:{...r,default:()=>[q(qr,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...m,...v},r.default)]},attrs:{},features:Jt,visible:l.value==="visible",name:"Transition"})}}});const zr=ct(qe.ui.strategy,qe.ui.slideover,qn),Gr=A({components:{HDialog:Rr,HDialogPanel:Ir,TransitionRoot:Zt,TransitionChild:Qt},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(e,{emit:t}){const{ui:n,attrs:r}=Lt("slideover",at(e,"ui"),zr,at(e,"class")),a=E({get(){return e.modelValue},set(s){t("update:modelValue",s)}}),o=E(()=>e.transition?{...n.value.transition,enterFrom:e.side==="left"?n.value.translate.left:n.value.translate.right,enterTo:n.value.translate.base,leaveFrom:n.value.translate.base,leaveTo:e.side==="left"?n.value.translate.left:n.value.translate.right}:{});function l(s){a.value=s,t("close")}return{ui:n,attrs:r,isOpen:a,transitionClass:o,close:l}}});function Jr(e,t,n,r,a,o){const l=Ue("TransitionChild"),s=Ue("HDialogPanel"),u=Ue("HDialog"),i=Ue("TransitionRoot");return x(),Se(i,{as:"template",appear:e.appear,show:e.isOpen},{default:H(()=>[L(u,me({class:[e.ui.wrapper,{"justify-end":e.side==="right"}]},e.attrs,{onClose:t[0]||(t[0]=v=>!e.preventClose&&e.close(v))}),{default:H(()=>[e.overlay?(x(),Se(l,me({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:H(()=>[K("div",{class:Q([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):De("",!0),L(l,me({as:"template",appear:e.appear},e.transitionClass),{default:H(()=>[L(s,{class:Q([e.ui.base,e.ui.width,e.ui.background,e.ui.ring,e.ui.padding])},{default:H(()=>[ee(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])]),_:3},16,["class"])]),_:3},8,["appear","show"])}const Qr=Je(Gr,[["render",Jr]]),Zr={__name:"Slideover",setup(e){const t=je(),n=E({get:()=>t.isOpen,set:r=>{t.isOpen=r}});return(r,a)=>{const o=jn,l=Yn,s=Qn,u=Qr;return x(),M("div",null,[L(u,{modelValue:$(n),"onUpdate:modelValue":a[0]||(a[0]=i=>ke(n)?n.value=i:null)},{default:H(()=>[L(s,{class:"flex flex-col flex-1 overflow-y-auto bg-sidebar rounded-none",ui:{body:{base:"flex-1"},ring:"",divide:"divide-y divide-border"}},{header:H(()=>[L(o)]),default:H(()=>[L(l)]),_:1})]),_:1},8,["modelValue"])])}}},Xr=Zr;var Ce=(e=>(e.todo="todo",e["to-be-agreed"]="to-be-agreed",e["in-progress"]="in-progress",e.produced="produced",e.done="done",e))(Ce||{});const ea=[{id:Ce.todo,name:"",items:[]},{id:Ce["to-be-agreed"],name:"To be agreed",items:[]},{id:Ce["in-progress"],name:"In progress",items:[]},{id:Ce.produced,name:"Ready",items:[]},{id:Ce.done,name:"To be shipped",items:[]}];function ta(){return Dt({queryKey:["deals"],queryFn:()=>Ne.listDocuments(He,Qe),select(e){const t=ea.map(r=>({...r,items:[]})),n=e.documents;for(const r of n){const a=t.find(o=>o.id===r.status);a&&a.items.push({$createdAt:r.$createdAt,id:r.$id,name:r.name,price:r.price,companyName:r.customer.name,status:a.name})}return t}})}const na={class:"text-center mb-4"},ra=["disabled"],aa=A({__name:"createDeal",props:{status:{type:String,default:""},refetch:{type:Function}},setup(e){const t=e,{handleSubmit:n,defineField:r,handleReset:a}=yn({initialValues:{status:t.status}}),[o,l]=r("name"),[s,u]=r("price"),[i,v]=r("customer.email"),[m,y]=r("customer.name"),{mutate:b,isPending:_}=ft({mutationKey:["create a new deal"],mutationFn:V=>Ne.createDocument(He,Qe,xt(),V),onSuccess(){t.refetch&&t.refetch(),a()}}),S=n(V=>{b(V)}),F=k(!1);return(V,T)=>{const W=kt,B=Ct;return x(),M(Ee,null,[K("div",na,[K("button",{class:"transition-all opacity-5 hover:opacity-100 hover:text-[#a252c8]",onClick:T[0]||(T[0]=P=>F.value=!$(F))},[$(F)?(x(),Se(W,{key:0,name:"radix-icons:arrow-up",class:"fade-in-100 fade-out-0",size:"35"})):(x(),Se(W,{key:1,name:"radix-icons:plus-circled",class:"fade-in-100 fade-out-0",size:"35"}))])]),$(F)?(x(),M("form",{key:0,onSubmit:T[5]||(T[5]=(...P)=>$(S)&&$(S)(...P)),class:"form"},[L(B,me({placeholder:"Name",modelValue:$(o),"onUpdate:modelValue":T[1]||(T[1]=P=>ke(o)?o.value=P:null)},$(l),{type:"text",class:"input"}),null,16,["modelValue"]),L(B,me({placeholder:"Sum of money",modelValue:$(s),"onUpdate:modelValue":T[2]||(T[2]=P=>ke(s)?s.value=P:null)},$(u),{type:"text",class:"input"}),null,16,["modelValue"]),L(B,me({placeholder:"Email",modelValue:$(i),"onUpdate:modelValue":T[3]||(T[3]=P=>ke(i)?i.value=P:null)},$(v),{type:"text",class:"input"}),null,16,["modelValue"]),L(B,me({placeholder:"Company",modelValue:$(m),"onUpdate:modelValue":T[4]||(T[4]=P=>ke(m)?m.value=P:null)},$(y),{type:"text",class:"input"}),null,16,["modelValue"]),K("button",{class:"btn",disabled:$(_)},z($(_)?"Loading...":"Add"),9,ra)],32)):De("",!0)],64)}}}),oa=Je(aa,[["__scopeId","data-v-32309076"]]),la=(e,t=1)=>({backgroundColor:`hsla(280, 52%, ${100-e/(t-1)*50}%, 30%)`}),sa={class:"p-10"},ia={class:"font-bold text-2xl mb-10"},ua={key:0},da={key:1},ca={class:"grid grid-cols-5 gap-16"},fa=["onDrop"],pa=K("span",null,"i",-1),_a=A({__name:"index",setup(e){const t=je(),n=k(null),r=k(null),{data:a,isLoading:o,refetch:l}=ta(),{mutate:s}=ft({mutationKey:["move card"],mutationFn:({docId:m,status:y})=>Ne.updateDocument(He,Qe,m,{status:y}),onSuccess:()=>{l()}});function u(m,y){n.value=m,r.value=y}function i(m){m.preventDefault()}function v(m){n.value&&r.value&&s({docId:n.value.id,status:m.id})}return fn({title:"CRM System"}),(m,y)=>{const b=En,_=xn,S=Sn,F=Cn,V=kn,T=_n,W=Xr;return x(),M("div",sa,[K("h1",ia,z(m.$t("CRM.title")),1),$(o)?(x(),M("div",ua," Loading... ")):(x(),M("div",da,[K("div",ca,[(x(!0),M(Ee,null,rt($(a),(B,P)=>{var Y;return x(),M("div",{onDragover:i,onDrop:()=>v(B),class:"min-h-screen"},[K("div",{class:"rounded bg-slate-700 py-1 px-5 mb-2 text-center",style:pn($(la)(P,(Y=$(a))==null?void 0:Y.length))},z(B.name),5),K("div",null,[L(oa,{refetch:$(l),status:B.id},null,8,["refetch","status"]),(x(!0),M(Ee,null,rt(B.items,G=>(x(),Se(T,{key:G.id,class:"my-5",draggable:"true",onDragstart:()=>u(G,B)},{default:H(()=>[L(S,{role:"button",onClick:se=>$(t).set(G)},{default:H(()=>[L(b,null,{default:H(()=>[pe(z(G.name),1)]),_:2},1024),L(_,{class:"mt-2 block"},{default:H(()=>[pe(z(("convertCurrency"in m?m.convertCurrency:$(Ot))(G.price)),1)]),_:2},1024)]),_:2},1032,["onClick"]),L(F,{class:"text-xs"},{default:H(()=>[pa,pe(" "+z(G.companyName),1)]),_:2},1024),L(V,{class:"text-sm"},{default:H(()=>[pe(z($(pt)(G.$createdAt).format("DD MMMM YYYY")),1)]),_:2},1024)]),_:2},1032,["onDragstart"]))),128))])],40,fa)}),256))]),L(W)]))])}}});export{_a as default};
